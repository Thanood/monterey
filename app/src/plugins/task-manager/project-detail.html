<template>
  <h3 class="title" style="margin: 0">${project.name}</h3>

  <div if.bind="loading">
    <p>Loading tasks... first time will take longer</p>
    <i class="fa fa-spinner fa-spin fa-3x"></i>
  </div>
  
  <div show.bind="!loading && !error">
    <p>Start a new task: </p>

    <ul class="list-group" style="width: 200px; max-height: 400px; overflow: auto;">
      <li class="list-group-item ${task === selectedTask ? 'selected' : ''}" 
          click.delegate="selectedTask = task" 
          dblclick.delegate="startTask(task)"
          repeat.for="task of tasks">
          <p>${task.command} ${task.args.join(' ')}</p>
      </li>
    </ul>
    <p show.bind="false">${selectedTask.command}</p>
    <button class="btn btn-primary" click.delegate="startTask()">Start this task</button>
    <button class="btn btn-primary" click.delegate="loadTasks(false)">Refresh tasks</button>
  </div>

  <div show.bind="error">
    <p>${error}</p>
    <button class="btn btn-primary" click.delegate="loadTasks(false)">Refresh tasks</button>
  </div>
</template>