<template>
  <require from="../../shared/converters/moment"></require>

  <h3 class="title" style="margin: 0">${task.title} (${task.project.name})</h3>
  <button if.bind="task.cancelable && !task.finished" class="btn btn-primary" click.delegate="cancelTask(task)">Cancel this task</button>
  <p>
    <span>
      <b>Status:</b> ${task.status}<br/>
    </span>
    <span show.bind="task.start">
      <b>Started on:</b> ${task.start | moment:'LTS'}<br/>
    </span>
    <span show.bind="task.end">
      <b>Finished on:</b> ${task.end | moment:'LTS'}<br/>
    </span>
    <span show.bind="task.start">
      <b>${task.end ? 'Ran' : 'Running'} for:</b> ${task.elapsed}<br/>
    </span>
    <span show.bind="task.start && !task.end && task.estimation">
      <b>Estimation:</b> ${task.estimation}
    </span>
  </p>

  <hr style="margin: 0">

  <h4 style="margin: 0">Output</h4>

  <ul class="logs">
    <li style="color: white; list-style-type: none" repeat.for="log of task.logs">
      ${log.message}
    </li>
  </ul>
</template>