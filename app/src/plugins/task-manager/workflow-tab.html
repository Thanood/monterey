<template>
  <require from="./workflow-creator"></require>
  <require from="../../shared/splitter"></require>

  <div class="buttons">
    <button class="btn btn-primary" click.delegate="createNew()">Create new workflow</button>
    <button class="btn btn-primary" click.delegate="remove()" show.bind="selectedTree">Remove workflow</button>
    <button class="btn btn-primary" click.delegate="addAsTile()" show.bind="selectedTree">${selectedTree && !selectedTree.tile ? 'Show as' : 'Don\'t show'} tile</button>
    <button class="btn btn-primary" click.delegate="save()">Save</button>
  </div>

  <div class="overview">
    <div class="left" splitter="handle.bind: splitter">
      <ul class="list-group">
        <li class="list-group-item ${selectedTree === tree ? 'selected': ''}"
            repeat.for="tree of trees"
            click.delegate="selectedTree = tree">
          <p>${tree.name}</p>
        </li>
      </ul>
    </div>

    <div ref="splitter"></div>

    <div class="right" show.bind="selectedTree">
      <h4 class="title">${selectedTree.name}</h4>
      <workflow-creator tree.bind="selectedTree" view-model.ref="creator"></workflow-creator>
    </div>
  </div>
</template>