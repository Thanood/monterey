<template>
  <require from="../../shared/converters/limit-text-size"></require>
  <require from="../../shared/splitter"></require>

  <ai-dialog class="notification-modal" title="Notifications" width="730" height="470">
    <ai-dialog-body>
      <div class="left-side" splitter="handle.bind: splitter">
        <div class="notification-list">
          <ul class="list-group">
            <li class="list-group-item ${selectedNotification === notification ? 'selected': ''}"
                repeat.for="notification of notifications.notifications"
                click.delegate="selectedNotification = notification">
              <i if.bind="notification.icon" class.bind="notification.icon"></i>
              <p>${notification.title}</p> 
            </li>
          </ul>
        </div>
      </div>

      <div ref="splitter"></div>

      <div class="right-side" show.bind="selectedNotification">
        <p class="title">${selectedNotification.title | limitTextSize: 50}</p>
        <div if.bind="selectedNotification.html" innerhtml.bind="selectedNotification.html"></div>
        <compose if.bind="selectedNotification.viewModel" 
                 view-model.bind="selectedNotification.viewModel" 
                 model.bind="selectedNotification.model"></compose>
      </div>

      <div class="right-side" show.bind="notifications.notifications.length === 0">
        <p i18n="no-notifications"></p>
      </div>
    </ai-dialog-body>

    <ai-dialog-footer>
      <div class="align-right">
        <button class="btn btn-primary" click.trigger="dialogController.close()" i18n="close"></button>
      </div>
    </ai-dialog-footer>
  </ai-dialog>
</template>
